function dpGenreWidgetManager(e){var n={restrict:"E",templateUrl:"components/controlPanel/smartBarsComponent/genreWidgetManager/dpGenreWidgetManager.html",controller:dpGenreWidgetManagerController};return n}function dpGenreWidgetManagerController(e,n,t,r,a,s){function o(){var n=a[0].getElementsByTagName("md-select-menu")[0],t=n.getElementsByTagName("md-content");!e.isOpen&&t.length>0&&(e.isOpen=!0,t[0].scrollTo(0,0))}var i=5,l=1;e.appUtils=t,e.showOnlySelectedGenreHint=!1,e.showMaxGenresHint=!1,e.isManagerAreaOpen=!0,e.selectedGenresNames=r.getUserGenresNames(),e.allGenresNames=["Alternative","Dance","Folk","Funk","Hip-Hop","Indie","Latin","Love","Pop","R&B","Rap","Reggaeton","Rock","Soul"],e.shouldShowGenre=function(n){return e.selectedGenresNames.indexOf(n)>-1},e.isGenreDisabled=function(n){return e.selectedGenresNames.indexOf(n)>-1?e.selectedGenresNames.length<=l:e.selectedGenresNames.length>=i},e.isOnlySelectedGenre=function(n){return e.selectedGenresNames[0]===n},e.onOptionClick=function(n){1==e.selectedGenresNames.length&&e.selectedGenresNames[0]===n?e.showOnlySelectedGenreHint=!0:e.showOnlySelectedGenreHint=!1,e.selectedGenresNames.length>4?e.showMaxGenresHint=!0:e.showMaxGenresHint=!1},e.searchTerm="",e.clearSearchTerm=function(){e.searchTerm=""},e.onGenreSelectorChange=function(){r.setSelectedGenresByNames(e.selectedGenresNames),r.updateWeightDistanceFactor(),r.updateGenreWeightsDistancesListByCurrentWidget(),r.storeUserGenresAndTagsData()},n.find("input").on("keydown",function(e){e.stopPropagation()}),e.updateSongIndexesListWithGenre=function(e,n){r.updateGenreWeightsDistancesList(e,n),r.storeUserGenresAndTagsData()},e.updateSongIndexesListWithTagName=function(e,n){r.updateSongIndexesListByTagIfNeeded(e,n),r.storeUserGenresAndTagsData()},e.getGenreManagerWarpperClass=function(){return t.isDesktop()?"genre-manager-wrapper-horizontal scroll-style":"genre-manager-wrapper-vertical"},e.getGenreManagerButtonsWrapperTemp=function(){return"components/controlPanel/smartBarsComponent/genreManagerButtonsWrapper/genreManagerButtonsWrapperBig.html"},e.removeGenreParent=function(n){if(e.selectedGenresNames.length>1){var t=e.selectedGenresNames.indexOf(n);t>-1&&(e.selectedGenresNames.splice(t,1),e.onGenreSelectorChange())}},e.onGenreSelectorClick=function(){e.isOpen=!1,s(o,100,10,!1)},e.getMdContainerClass=function(){return"selectGenreSelectorHeader"},e.onMinimizeMaximizeButtonClick=function(){e.isManagerAreaOpen=!e.isManagerAreaOpen}}angular.module("dpGenreWidgetManagerComponent",[]).directive("dpGenreWidgetManager",dpGenreWidgetManager),dpGenreWidgetManager.$inject=["dpSongsListLogic"],dpGenreWidgetManagerController.$inject=["$scope","$element","dpAppUtils","dpSongsListLogic","$document","$interval"];