function dpPlayingBar(){var e={restrict:"E",template:"<ng-include src='getBarTemplateUrl()'/>",controller:dpPlayingBarController};return e}function dpPlayingBarController(e,n,r,t,a,l,o,i){function u(e){document.getElementById(e).classList.remove("md-active")}function c(e){var n=e.split(":"),r=60*+n[0]+ +n[1];return r}function d(){e.data.currentVolumeLevel=0}function g(){e.data.currentVolumeLevel=t.getVolumeLevel()}e.logicService=n,e.playerService=t,e.currentPlayerDurationText="0:00",e.data={},e.data.progressBarDuration=0,e.data.currentVolumeLevel=100,e.currentVolumeLevel=t.getVolumeLevel(),e.$watch(function(){return t.getVolumeLevel()},function(){e.data.currentVolumeLevel=t.getVolumeLevel()}),e.$watch(function(){return t.isPlayerMuted()},function(){t.isPlayerMuted()?d():0===e.data.currentVolumeLevel&&g()}),i(function(){t.isPlayerEnabled()&&(e.currentPlayerDurationText=t.getPlayerCurrentDurationFormatted())},100);var s=!1;i(function(){t.isPlayerEnabled()&&!s&&(e.data.progressBarDuration=t.getPlayerCurrentDuration())},1e3),e.getRawDuration=c(n.getSongDurationByIndex(n.getCurrentPlayingSongIndex())),e.onProgressBarChangeDown=function(){u("progress-bar"),t.isPlayerEnabled()&&(t.onPauseSongClick(),t.playerSeekTo(e.data.progressBarDuration))},e.onProgressBarChangeUp=function(){t.isPlayerEnabled()&&(t.onPlaySongClick(),s=!1)},e.onVolumeBarChange=function(){u("volume-slider"),0===e.data.currentVolumeLevel?t.mutePlayer():e.isMuted()&&t.unMutePlayer(),t.setVolumeLevel(e.data.currentVolumeLevel)},e.getBarTemplateUrl=function(){return r.isDesktop()?"components/playingBar/dpPlayingBarFixWideScreen.html":"components/playingBar/dpPlayingBarLongVerticalScreen.html"},e.onPlayPauseClick=function(){t.isPlaying()?t.onPauseSongClick():t.onPlaySongClick()},e.getPlayPauseStyle=function(){return t.isPlaying()?"":"paused"},e.isMuted=function(){return t.isPlayerMuted()},e.onSpeakerIconClick=function(){e.isMuted()?(t.unMutePlayer(),g()):(t.mutePlayer(),d())},e.getNameMaxWidth=function(){var e=window.innerWidth-172;return e+="px",{"max-width":e}}}angular.module("dpPlayingBar",[]).directive("dpPlayingBar",dpPlayingBar),dpPlayingBar.$inject=["dpSongsListLogic"],dpPlayingBarController.$inject=["$scope","dpSongsListLogic","dpAppUtils","dpPlayerService","dpYoutubeEmbedService","$window","$timeout","$interval"];